---
permalink: sas3/hot-remove-shelf.html 
sidebar: sidebar 
keywords: hot-remove, disk, shelf, iom12, module, nondisruptive, module-nondisruptively, system, power, serving, data, i/o, progress, hot-remove, stack, shelves, hot-remove a disk shelf with iom12 modules, DS460C, transport DS460C, move DS460C, remove drives from DS460C, DS460C drive handling, iom12b 
summary: '디스크 쉘프를 이동하거나 교체해야 하는 경우, IOM12 모듈을 사용하여 디스크 쉘프를 핫 제거할 수 있습니다(전원이 켜진 시스템에서 디스크 쉘프를 중단 없이 제거하고 I/O가 진행 중인 경우). 디스크 쉘프 스택 내의 모든 위치에서 디스크 쉘프를 하나 이상 핫 제거하거나 디스크 쉘프 스택을 제거할 수 있습니다.' 
---
= IOM12/IOM12B 모듈을 사용하여 쉘프-쉘프 핫 제거
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
디스크 쉘프를 이동하거나 교체해야 할 때 IOM12/IOM12B 모듈을 사용하여 디스크 쉘프를 핫 제거할 수 있습니다(전원이 켜진 상태에서 I/O가 진행 중인 시스템에서 디스크 쉘프를 중단 없이 제거). 디스크 쉘프 스택 내의 모든 위치에서 디스크 쉘프를 하나 이상 핫 제거하거나 디스크 쉘프 스택을 제거할 수 있습니다.

.시작하기 전에
* 시스템은 다중 경로 HA, 다중 경로, 4중 경로 HA 또는 4중 경로 구성이어야 합니다.
+
AFF A200, AFF A220, FAS2600 시리즈, FAS2700 시스템과 같은 온보드 스토리지가 있는 플랫폼의 경우 외부 스토리지를 다중 경로 HA 또는 다중 경로와 케이블로 연결해야 합니다.

+

NOTE: 다중 경로 연결을 통해 외부 스토리지를 케이블로 연결한 FAS2600 시리즈 단일 컨트롤러 시스템의 경우, 내부 스토리지에서 단일 경로 연결을 사용하므로 시스템이 혼합 경로 구성입니다.

* 시스템에 SAS 케이블 연결 오류 메시지가 없습니다.
+
Active IQ Config Advisor를 다운로드하여 실행하면 SAS 케이블 연결 오류 메시지와 필요한 수정 조치를 확인할 수 있습니다.

+
https://mysupport.netapp.com/site/tools/tool-eula/activeiq-configadvisor["NetApp 다운로드: Config Advisor"]

* HA 쌍 구성은 테이크오버 상태가 될 수 없습니다.
* 제거할 디스크 쉘프의 디스크 드라이브에서 모든 애그리게이트(디스크 드라이브는 스페어 드라이브)를 제거해야 합니다.
+

NOTE: 제거하는 디스크 쉘프의 Aggregate으로 이 절차를 수행하면 다중 디스크 패닉이 발생할 수 있습니다.

+
'storage aggregate offline-aggregate_aggregate_name_' 명령과 'storage aggregate delete-aggregate_aggregate_name_' 명령을 차례로 사용할 수 있습니다.

* 스택 내에서 하나 이상의 디스크 쉘프를 제거하려면 제거할 디스크 쉘프를 우회하는 데 필요한 거리를 고려해야 합니다. 따라서 현재 케이블이 충분히 길지 않으면 더 긴 케이블을 사용할 수 있어야 합니다.


.이 작업에 대해
* * 모범 사례: * 가장 좋은 방법은 제거할 디스크 쉘프의 디스크 드라이브에서 애그리게이트를 제거한 후 디스크 드라이브의 소유권을 제거하는 것입니다.
+
스페어 디스크 드라이브에서 소유권 정보를 제거하면 필요에 따라 디스크 드라이브를 다른 노드에 올바르게 통합할 수 있습니다.



[NOTE]
====
디스크 드라이브에서 소유권을 제거하려면 디스크 소유권 자동 할당을 비활성화해야 합니다. 이 절차를 마치면 디스크 소유권 자동 할당을 다시 활성화할 수 있습니다.

https://docs.netapp.com/us-en/ontap/disks-aggregates/index.html["디스크 및 애그리게이트 개요"]

====
* 2개 노드보다 큰 clustered ONTAP 시스템의 경우 epsilon을 계획된 유지 관리를 수행 중인 HA 쌍 이외의 HA 쌍에 재할당하는 것이 가장 좋습니다.
+
epsilon을 재할당하면 clustered ONTAP 시스템의 모든 노드에 영향을 미치는 예기치 않은 오류의 위험이 최소화됩니다. 다음 단계를 사용하여 epsilon을 보유한 노드를 확인하고 필요한 경우 epsilon을 재할당할 수 있습니다.

+
.. 권한 수준을 Advanced:'Set-Privilege advanced'로 설정합니다
.. 어느 노드에 epsilon: "cluster show"가 있는지 확인합니다
+
엡실론을 갖고 있는 노드는 엡실론 컬럼에 참으로 표시됩니다. (epsilon을 보유하지 않은 노드는 '거짓'으로 표시됩니다.)

.. 유지 보수를 진행 중인 HA 쌍의 노드에 "참"(epsilon 보유)이 표시되는 경우 "cluster modify -node_node_name_-epsilon FALSE" 노드에서 epsilon을 제거합니다
.. 다른 HA 쌍의 노드에 epsilon을 할당합니다. "cluster modify -node_node_name_-epsilon TRUE"
.. admin 권한 수준으로 복귀:'et-Privilege admin'입니다


* 스택에서 디스크 쉘프를 핫 제거하는 경우(스택 제외), 한 번에 하나의 경로(경로 A와 경로 B)를 재배열하여 제거할 디스크 쉘프를 바이패스하여 컨트롤러에서 스택까지 항상 단일 경로 연결을 유지할 수 있습니다.
+

NOTE: 제거하려는 디스크 쉘프를 우회하기 위해 스택을 다시 사용할 때 컨트롤러에서 스택까지 단일 경로 연결을 유지하지 않으면 다중 디스크 패닉 상태로 시스템을 실패할 수 있습니다.

* * 가능한 선반 손상: * DS460C 쉘프를 제거한 후 데이터 센터의 다른 부분으로 이동하거나 다른 위치로 운반하는 경우, 섹션, <<DS460C 쉘프를 이동하거나 이동합니다>> 이 절차를 마칠 때.


.단계
. 시스템 구성이 Multi-Path HA, Multi-Path, Quad-path HA 또는 Quad-path:sysconfig인지 확인합니다
+
두 컨트롤러 중 하나의 노드 쉘에서 이 명령을 실행합니다. 시스템이 검색을 완료하는 데 최대 1분이 걸릴 수 있습니다.

+
System Storage Configuration 필드에 설정이 나열됩니다.

+

NOTE: 다중 경로 연결로 외부 스토리지를 케이블로 연결한 FAS2600 시리즈 단일 컨트롤러 시스템의 경우 내부 스토리지에서 단일 경로 연결을 사용하므로 출력이 혼합 경로로 표시됩니다.

. 제거하려는 디스크 쉘프의 디스크 드라이브에 애그리게이트가 없고 소유권이 제거되었는지 확인합니다.
+
.. 두 컨트롤러 중 하나의 클러스터 쉘에서 'storage disk show -shelf_shelf_number_' 명령을 입력합니다
.. 출력을 확인하여 제거할 디스크 쉘프의 디스크 드라이브에 애그리게이트가 없는지 확인합니다.
+
애그리게이트가 없는 디스크 드라이브는 '컨테이너 이름' 열에 대시가 있습니다.

.. 출력을 확인하여 제거 중인 디스크 쉘프의 디스크 드라이브에서 소유권이 제거되는지 확인합니다.
+
소유권이 없는 디스크 드라이브는 소유자 열에 대시가 있습니다.

+

NOTE: 제거하는 쉘프에 있는 디스크 드라이브에서 장애가 발생하면 '컨테이너 유형' 열에서 디스크가 분리된 것입니다. (오류가 발생한 디스크 드라이브에는 소유권이 없습니다.)

+
다음 출력에서는 분리 중인 디스크 쉘프(디스크 쉘프 3)의 디스크 드라이브가 디스크 쉘프 분리 시 올바른 상태입니다. 애그리게이트는 모든 디스크 드라이브에서 제거되므로 각 디스크 드라이브의 '컨테이너 이름' 열에 대시가 표시됩니다. 모든 디스크 드라이브에서도 소유권이 제거되므로 각 디스크 드라이브의 소유자 열에 대시가 나타납니다.



+
[listing]
----
cluster::> storage disk show -shelf 3

           Usable           Disk   Container   Container
Disk         Size Shelf Bay Type   Type        Name       Owner
-------- -------- ----- --- ------ ----------- ---------- ---------
...
1.3.4           -     3   4 SAS    spare                -         -
1.3.5           -     3   5 SAS    spare                -         -
1.3.6           -     3   6 SAS    broken               -         -
1.3.7           -     3   7 SAS    spare                -         -
...
----
. 제거할 디스크 쉘프를 물리적으로 찾습니다.
+
필요한 경우 디스크 쉘프의 위치(파란색) LED를 켜서 영향을 받는 디스크 쉘프를 물리적으로 찾을 수 있도록 'Storage shelf location-led modify-shelf-name_shelf_name_-led-status on'을 설정할 수 있습니다

+

NOTE: 디스크 쉘프에는 작동 디스플레이 패널에 1개, IOM12 모듈마다 1개씩 등 3개의 위치 LED가 있습니다. 위치 LED가 30분 동안 켜져 있습니다. 같은 명령을 입력해도 끄기 옵션을 사용하여 해제할 수 있습니다.

. 디스크 쉘프 전체 스택을 제거하려면 다음 하위 단계를 완료하십시오. 그렇지 않으면 다음 단계로 이동합니다.
+
.. 경로 A(IOM A) 및 경로 B(IOM B)에서 모든 SAS 케이블을 제거합니다.
+
여기에는 제거하려는 스택의 모든 디스크 쉘프에 대한 컨트롤러-쉘프 케이블과 쉘프-쉘프 케이블이 포함됩니다.

.. 9단계로 이동합니다.


. 스택에서 하나 이상의 디스크 쉘프를 제거하는 경우(스택은 유지) 해당 하위 단계 세트를 완료하여 제거할 디스크 쉘프를 우회할 경로 A(IOM A) 스택 연결을 다시 작성할 수 있습니다.
+
스택에서 디스크 쉘프를 두 개 이상 제거하려면 한 번에 하나의 디스크 쉘프에서 해당 하위 단계 세트를 완료하십시오.

+

NOTE: 포트를 연결하기 전에 10초 이상 기다립니다. SAS 케이블 커넥터는 SAS 포트에 올바르게 연결되었을 때 딸깍 소리가 나면서 제자리에 끼며 디스크 쉘프 SAS 포트 LNK LED가 녹색으로 켜집니다. 디스크 쉘프의 경우 당김 탭을 아래로 향하게 하여(커넥터 아래쪽에 있음) SAS 케이블 커넥터를 삽입합니다.

+
[cols="2*"]
|===
| 제거하는 경우... | 그러면... 


 a| 
스택의 종단(논리적 첫 번째 또는 마지막 디스크 쉘프) 중 하나에서 디스크 쉘프
 a| 
.. 제거할 디스크 쉘프의 IOM A 포트에서 쉘프-쉘프 케이블을 분리하여 한쪽에 둡니다.
.. 제거할 디스크 쉘프의 IOM A 포트에 연결된 모든 컨트롤러-스택 케이블을 뽑고 이 케이블을 스택의 다음 디스크 쉘프의 동일한 IOM A 포트에 연결합니다.
+
""다음" 디스크 쉘프는 제거할 디스크 쉘프의 끝에 따라 디스크 쉘프의 위나 아래에 있을 수 있습니다.





 a| 
스택의 중간에서 발생하는 디스크 쉘프 스택의 중간에 있는 디스크 쉘프는 다른 디스크 쉘프에만 연결되며 컨트롤러에는 연결되지 않습니다.
 a| 
.. IOM A 포트 1 및 2 또는 디스크 쉘프의 포트 3 및 4에서 쉘프-쉘프 케이블을 제거한 다음, 다음 디스크 쉘프의 IOM A를 제외합니다.
.. 제거할 디스크 쉘프의 IOM A 포트에 연결된 남아 있는 쉘프-쉘프 케이블을 뽑고 이 케이블을 스택의 다음 디스크 쉘프의 동일한 IOM A 포트에 연결합니다. 케이블 연결을 제거한 IOM A 포트(1, 2, 3, 4)에 따라 "'다음' 디스크 쉘프는 제거 중인 디스크 쉘프의 위 또는 아래일 수 있습니다.


|===
+
스택의 끝이나 스택 중간에서 디스크 쉘프를 제거할 때 다음 케이블 연결 예를 참조할 수 있습니다. 케이블 연결 예는 다음과 같습니다.

+
** IOM12 모듈은 DS224C 또는 DS212C 디스크 선반과 같이 나란히 배열됩니다. DS460C가 있는 경우 IOM12 모듈은 다른 모듈 위에 정렬됩니다.
** 각 예의 스택은 표준 쉘프-쉘프 케이블로 연결되고, 다중 경로 HA 또는 다중 경로 연결을 통해 케이블로 연결된 스택에 사용됩니다.
+
스택이 4중 경로 HA 또는 4중 경로 연결로 케이블이 연결되어 있는지 추론할 수 있습니다. 이 연결은 셸프 간 이중 케이블 연결을 사용합니다.

** 케이블 연결 예는 경로 A(IOM A) 중 하나를 재사용하는 방법을 보여줍니다.
+
경로 B(IOM B)에 대한 재배선 작업을 반복합니다.

** 스택의 끝에서 디스크 쉘프를 제거하기 위한 케이블 연결 예는 다중 경로 HA 연결을 통해 케이블로 연결된 스택의 마지막 논리 디스크 쉘프를 제거하는 방법을 보여줍니다.
+
스택에서 논리적 첫 번째 디스크 쉘프를 제거할 경우 또는 스택에 다중 경로 연결이 있는 경우 재연결을 추론할 수 있습니다.

+
image::../media/drw_hotremove_end.gif[drw hotremove 끝]

+
image::../media/drw_hotremove_middle.gif[drw 중간을 제거합니다]



. 제거하려는 디스크 쉘프를 무시하고 IOM A(IOM A) 스택 연결을 올바르게 다시 설정했는지 '스토리지 디스크 표시 포트'를 확인합니다
+
HA 쌍 구성에서는 두 컨트롤러 중 하나의 클러스터 쉘에서 이 명령을 실행합니다. 시스템이 검색을 완료하는 데 최대 1분이 걸릴 수 있습니다.

+
출력의 처음 두 줄은 경로 A와 경로 B를 모두 통해 연결된 디스크 드라이브를 보여 줍니다 출력의 마지막 두 줄은 단일 경로 B를 통해 연결된 디스크 드라이브를 보여 줍니다

+
[listing]
----
cluster::> storage show disk -port

PRIMARY  PORT SECONDARY      PORT TYPE SHELF BAY
-------- ---- ---------      ---- ---- ----- ---
1.20.0   A    node1:6a.20.0  B    SAS  20    0
1.20.1   A    node1:6a.20.1  B    SAS  20    1
1.21.0   B    -              -    SAS  21    0
1.21.1   B    -              -    SAS  21    1
...
----
. 다음 단계는 'storage disk show-port' 명령 출력에 따라 달라집니다.
+
[cols="2*"]
|===
| 출력에 다음과 같은 내용이 표시되는 경우 | 그러면... 


 a| 
분리한 디스크 쉘프의 드라이브 중 경로 B를 통해서만 연결되는 것을 제외하고, 스택의 모든 디스크 드라이브는 경로 A 및 경로 B를 통해 연결됩니다
 a| 
다음 단계로 이동합니다.

제거하려고 하는 디스크 쉘프를 건너뛰고 스택의 나머지 디스크 드라이브에서 경로 A를 다시 설정했습니다.



 a| 
위 내용 이외의 사항
 a| 
5단계와 6단계를 반복합니다.

케이블을 수정해야 합니다.

|===
. 제거할 디스크 쉘프(스택)에 대해 다음 하위 단계를 완료합니다.
+
.. 경로 B에 대해 5단계부터 7단계까지 반복합니다
+

NOTE: 7단계를 반복하고 스택을 올바르게 다시 지정한 경우 경로 A와 경로 B를 통해 연결된 나머지 디스크 드라이브만 모두 볼 수 있습니다

.. 1단계를 반복하여 스택에서 디스크 쉘프를 하나 이상 제거하기 전에 시스템 구성이 동일한지 확인합니다.
.. 다음 단계로 이동합니다.


. 이 절차를 준비하는 과정에서 디스크 드라이브에서 소유권을 제거한 경우 디스크 소유권 자동 할당을 사용하지 않도록 설정하고 다음 명령을 입력하여 다시 사용하도록 설정합니다. 그렇지 않으면 다음 단계인 '스토리지 디스크 옵션 수정 - 자동 할당 설정'으로 이동합니다
+
HA 쌍 구성에서는 두 컨트롤러의 클러스터 쉘에서 명령을 실행합니다.

. 분리한 디스크 쉘프의 전원을 끄고 디스크 쉘프의 전원 코드를 뽑습니다.
. 랙 또는 캐비닛에서 디스크 쉘프를 제거합니다.
+
디스크 쉘프를 쉽고 빠르게 조작하려면 전원 공급 장치 및 I/O 모듈(IOM)을 제거하십시오.

+
DS460C 디스크 쉘프의 경우, 완전히 로드된 쉘프의 무게는 112kg(247lbs)이므로 랙 또는 캐비닛에서 쉘프를 제거할 때는 다음과 같은 주의를 기울여야 합니다.

+

CAUTION: 기계화된 리프트를 사용하거나 리프트 핸들을 사용하여 DS460C 쉘프를 안전하게 이동하는 4명을 사용하는 것이 좋습니다.

+
DS460C 배송에는 4개의 착탈식 리프트 핸들(각 측면에 2개)이 포함되어 있습니다. 리프트 핸들을 사용하려면 손잡이 탭을 선반 측면에 있는 슬롯에 삽입하고 딸깍 소리가 날 때까지 위로 밀어 올려서 설치합니다. 그런 다음 디스크 쉘프를 레일 위로 밀어 넣을 때 엄지 래치를 사용하여 한 번에 하나의 핸들 세트를 분리합니다. 다음 그림에서는 리프트 핸들을 부착하는 방법을 보여 줍니다.

+
image::../media/drw_ds460c_handles.gif[drw ds460c 핸들]

+
DS460C 쉘프를 데이터 센터의 다른 부분으로 이동하거나 다른 위치로 전송하는 경우 다음 섹션을 참조하십시오. <<DS460C 쉘프를 이동하거나 이동합니다>>.



.DS460C 쉘프를 이동하거나 이동합니다
[role="lead"]
DS460C 쉘프를 데이터 센터의 다른 부분으로 이동하거나 쉘프를 다른 위치로 전송하는 경우, 드라이브 드로어에서 드라이브를 제거하여 드라이브 드로어 및 드라이브가 손상되지 않도록 해야 합니다.

* DS460C 쉘프를 새 시스템 설치 또는 쉘프 핫 애드인의 일부로 설치한 경우, 드라이브 패키징 자료를 저장한 경우, 드라이브를 이동하기 전에 이를 사용하여 드라이브를 다시 패키지하십시오.
+
포장 재료를 저장하지 않은 경우 완충된 표면에 드라이브를 놓거나 다른 완충식 포장재를 사용해야 합니다. 드라이브를 서로 겹쳐서 쌓지 마십시오.

* 드라이브를 취급하기 전에 보관 인클로저 섀시의 도색되지 않은 표면에 접지된 ESD 손목 스트랩을 착용하십시오.
+
손목 스트랩을 사용할 수 없는 경우 드라이브를 다루기 전에 저장 장치 인클로저 섀시의 색칠되지 않은 표면을 만지십시오.

* 드라이브를 조심스럽게 다루려면 다음 단계를 수행해야 합니다.
+
** 무게를 지탱하기 위해 드라이브를 분리, 설치 또는 운반할 때는 항상 두 손을 사용하십시오.
+

CAUTION: 드라이브 캐리어 아래쪽에 노출된 드라이브 보드에 손을 올려 놓지 마십시오.

** 다른 표면에 드라이브를 부딪히지 않도록 주의하십시오.
** 드라이브는 자기 장치에서 멀리 떨어져 있어야 합니다.
+

CAUTION: 자기장은 드라이브의 모든 데이터를 파괴하고 드라이브 회로에 돌이킬 수 없는 손상을 일으킬 수 있습니다.




