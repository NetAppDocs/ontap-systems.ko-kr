---
permalink: asa-c800/rtc-battery-replace.html 
sidebar: sidebar 
keywords: asa c800, replace the real-time clock battery 
summary: '정확한 시간 동기화에 의존하는 시스템 서비스 및 응용 프로그램이 계속 작동할 수 있도록 컨트롤러 모듈의 실시간 클럭(RTC) 배터리를 교체합니다.' 
---
= 실시간 클럭 배터리(ASA C800)를 교체합니다
:allow-uri-read: 
:icons: font
:imagesdir: ../media/


[role="lead"]
정확한 시간 동기화에 의존하는 서비스 및 애플리케이션이 계속 작동하도록 하려면 ASA C800 시스템의 실시간 클록(RTC) 배터리(일반적으로 코인 셀 배터리라고 함)를 교체하십시오.

.시작하기 전에
* 시스템에서 지원하는 모든 ONTAP 버전에 이 절차를 사용할 수 있다는 점을 이해합니다.
* 시스템의 다른 모든 구성 요소가 제대로 작동하는지 확인하십시오. 그렇지 않은 경우 기술 지원 부서에 문의해야 합니다.




== 1단계: 손상된 컨트롤러를 종료합니다

컨트롤러를 종료하거나 손상된 컨트롤러를 인수합니다.

손상된 컨트롤러를 종료하려면 컨트롤러 상태를 확인하고, 필요한 경우 정상적인 컨트롤러가 손상된 컨트롤러 스토리지에서 데이터를 계속 제공할 수 있도록 컨트롤러를 인수해야 합니다.

.이 작업에 대해
* SAN 시스템을 사용하는 경우 손상된 컨트롤러 SCSI 블레이드에 대한 이벤트 메시지를 확인해야  `cluster kernel-service show`합니다. priv advanced 모드에서 명령을 실행하면 `cluster kernel-service show` 해당 노드의 노드 이름link:https://docs.netapp.com/us-en/ontap/system-admin/display-nodes-cluster-task.html["쿼럼 상태입니다"], 해당 노드의 가용성 상태 및 해당 노드의 작동 상태가 표시됩니다.
+
각 SCSI 블레이드 프로세스는 클러스터의 다른 노드와 함께 쿼럼에 있어야 합니다. 교체를 진행하기 전에 모든 문제를 해결해야 합니다.

* 노드가 2개 이상인 클러스터가 있는 경우 쿼럼에 있어야 합니다. 클러스터가 쿼럼에 없거나 정상 컨트롤러에 자격 및 상태에 대해 FALSE가 표시되는 경우 손상된 컨트롤러를 종료하기 전에 문제를 해결해야 합니다(참조) link:https://docs.netapp.com/us-en/ontap/system-admin/synchronize-node-cluster-task.html?q=Quorum["노드를 클러스터와 동기화합니다"^].


.단계
. AutoSupport가 활성화된 경우 AutoSupport 메시지를 호출하여 자동 케이스 생성을 억제합니다.
+
`system node autosupport invoke -node * -type all -message MAINT=<# of hours>h`

+
다음 AutoSupport 메시지는 2시간 동안 자동 케이스 생성을 억제합니다.

+
`cluster1:> system node autosupport invoke -node * -type all -message MAINT=2h`

. 자동 환불 비활성화:
+
.. 정상 컨트롤러의 콘솔에서 다음 명령을 입력하세요.
+
`storage failover modify -node _impaired_node_name_ -auto-giveback false`

.. 입력하다 `y` _자동 환불을 비활성화하시겠습니까?_라는 메시지가 표시되면


. 손상된 컨트롤러를 로더 프롬프트로 가져가십시오.
+
[cols="1,2"]
|===
| 손상된 컨트롤러가 표시되는 경우... | 그러면... 


 a| 
LOADER 메시지가 표시됩니다
 a| 
다음 단계로 이동합니다.



 a| 
반환 대기 중...
 a| 
Ctrl-C를 누른 다음 메시지가 나타나면 y를 누릅니다.



 a| 
시스템 프롬프트 또는 암호 프롬프트
 a| 
정상적인 컨트롤러에서 손상된 컨트롤러를 인계하거나 중지합니다.

`storage failover takeover -ofnode _impaired_node_name_ -halt _true_`

_-halt true_parameter는 Loader 프롬프트를 표시합니다.

|===




== 2단계: 컨트롤러 모듈을 분리합니다

컨트롤러 모듈을 교체하거나 컨트롤러 모듈 내부에 있는 구성요소를 교체할 때 섀시에서 컨트롤러 모듈을 분리해야 합니다.

.단계
. 아직 접지되지 않은 경우 올바르게 접지하십시오.
. 섀시의 모든 드라이브가 중앙판에 단단히 장착되어 있는지 확인합니다. 엄지 손가락으로 각 드라이브를 눌러 멈춤 상태가 될 때까지 누릅니다.
+
.영상 - 운전석 확인
video::2c46e4af-2c21-4f12-b065-b38b003d0ea2[panopto]
+
image::../media/drw_a800_drive_seated_IEOPS-960.svg[운전석에 앉으세요]

. 시스템 상태에 따라 컨트롤러 드라이브를 점검하십시오.
+
.. 정상적인 컨트롤러에서 활성 RAID 그룹 중 성능 저하 상태, 실패 상태 또는 둘 다에 해당하는 그룹이 있는지 확인하십시오.
+
[source, cli]
----
storage aggregate show -raidstatus !*normal*
----
+
*** 명령이 반환되면 `There are no entries matching your query.` 계속하세요<<Check-missing-drives,다음 하위 단계로 이동하여 누락된 드라이브가 있는지 확인합니다.>> .
*** 명령 실행 결과가 다르게 나오는 경우, 두 컨트롤러에서 AutoSupport 데이터를 수집하여 NetApp 지원팀에 문의하여 추가 지원을 받으십시오.
+
[source, cli]
----
system node autosupport invoke -node * -type all -message '<message_name>'
----


.. [[Check-missing-drives]]파일 시스템 또는 예비 드라이브 모두에서 누락된 드라이브 문제를 확인합니다.
+
[source, cli]
----
event log show -severity * -node * -message-name *disk.missing*
----
+
*** 명령이 반환되면 `There are no entries matching your query.` 계속하세요<<remove-power-cables,다음 단계로 이동>> .
*** 명령 실행 결과가 다르게 나오는 경우, 두 컨트롤러에서 AutoSupport 데이터를 수집하여 NetApp 지원팀에 문의하여 추가 지원을 받으십시오.
+
[source, cli]
----
system node autosupport invoke -node * -type all -message '<message_name>'
----




. [[전원 케이블 제거]]전원 케이블 고정 장치를 제거한 다음 전원 공급 장치에서 케이블을 뽑으세요.
. 케이블 정리 장치의 벨크로 스트랩을 느슨하게 하세요.  컨트롤러 모듈에서 시스템 케이블과 SFP/QSFP 모듈(필요한 경우)을 분리하십시오.  각 케이블의 위치를 기록해 두세요.
+
케이블 관리 장치에 케이블을 남겨 두면 케이블 관리 장치를 다시 설치할 때 케이블이 정리됩니다.

. 컨트롤러 모듈에서 케이블 관리 장치를 분리하여 한쪽에 둡니다.
. 양쪽 잠금 래치를 아래로 누른 다음 두 래치를 동시에 아래로 돌립니다.
+
컨트롤러 모듈이 섀시에서 약간 꺼냅니다.

+
image::../media/drw_a800_pcm_remove.png[컨트롤러 모듈 분리]

+
[cols="1,4"]
|===


 a| 
image:../media/icon_round_1.png["설명선 번호 1"]
 a| 
잠금 래치



 a| 
image:../media/icon_round_2.png["설명선 번호 2"]
 a| 
잠금 핀

|===
. 컨트롤러 모듈을 섀시 밖으로 밀어내고 안정적이고 평평한 표면에 놓습니다.
+
컨트롤러 모듈의 하단을 받쳐준 후 섀시에서 빼내십시오.





== 3단계: RTC 배터리를 교체합니다

RTC 배터리를 교체하십시오.

RTC 배터리 교체 절차는 컨트롤러가 오리지널 모델인지 VER2 모델인지에 따라 다릅니다.  아래 탭을 사용하여 컨트롤러 모델에 맞는 지침을 선택하십시오.

.이 작업에 대해
오리지널 컨트롤러의 경우 배터리는 라이저 2(중간 라이저) 아래에 있으며, VER2 컨트롤러의 경우 DIMM 슬롯 근처에 있습니다.

[role="tabbed-block"]
====
.원래 컨트롤러
--
.단계
. 컨트롤러 모듈에서 PCIe 라이저 2(중간 라이저)를 분리합니다.
+
.. PCIe 카드에 있을 수 있는 SFP 또는 QSFP 모듈을 모두 분리합니다.
.. 라이저 왼쪽의 라이저 잠금 래치를 팬 모듈 쪽으로 돌립니다.
+
라이저가 컨트롤러 모듈에서 약간 위로 올라갑니다.

.. 라이저를 위로 들어 올리고 팬을 향해 이동시키고 라이저의 판금 립이 컨트롤러 모듈의 모서리에서 분리되도록 한 다음, 라이저를 컨트롤러 모듈에서 들어 올린 다음 안정적이고 평평한 표면에 놓습니다.
+
image::../media/drw_a800_riser_2_3_remove.png[라이저 2를 분리합니다]

+
[cols="1,4"]
|===


 a| 
image:../media/icon_round_1.png["설명선 번호 1"]
 a| 
에어 덕트



 a| 
image:../media/icon_round_2.png["설명선 번호 2"]
 a| 
라이저 2(중앙 라이저) 잠금 래치

|===


. 라이저 2에서 RTC 배터리를 찾습니다.
+
image::../media/drw_a800_rtc_battery_replace.png[RTC 배터리를 탈거한 후 교체합니다]

+
[cols="1,4"]
|===


 a| 
image:../media/icon_round_1.png["설명선 번호 1"]
 a| 
에어 덕트



 a| 
image:../media/icon_round_2.png["설명선 번호 2"]
 a| 
라이저 2



 a| 
image:../media/icon_round_3.png["설명선 번호 3"]
 a| 
RTC 배터리 및 하우징

|===
. 배터리를 홀더에서 조심스럽게 밀어내고 홀더에서 돌린 다음 홀더에서 들어 꺼냅니다.
+

NOTE: 배터리함을 홀더에서 분리할 때 배터리의 극성에 유의하십시오. 배터리에는 플러스 기호가 표시되어 있으며 홀더에 올바르게 위치해야 합니다. 홀더 근처에 있는 더하기 기호는 배터리를 어떻게 배치해야 하는지 알려줍니다.

. 정전기 방지 운송용 백에서 교체용 배터리를 제거합니다.
. RTC 배터리의 극성을 확인한 다음 배터리를 비스듬히 기울이고 아래로 눌러 홀더에 삽입합니다.
. 배터리를 육안으로 검사하여 홀더가 완전히 장착되어 있고 극성이 올바른지 확인하십시오.
. 라이저를 컨트롤러 모듈에 설치합니다.
+
.. 라이저의 립을 컨트롤러 모듈 판금의 밑면에 맞춥니다.
.. 라이저를 컨트롤러 모듈의 핀을 따라 이동한 다음 라이저를 컨트롤러 모듈에 내려 놓습니다.
.. 잠금 래치를 아래로 돌려 잠금 위치로 클릭합니다.
+
잠금 래치가 잠기면 잠금 래치가 라이저 윗면과 맞닿고 라이저는 컨트롤러 모듈에 똑바로 앉습니다.

.. PCIe 카드에서 제거된 SFP 모듈을 모두 재장착합니다.




--
.VER2 컨트롤러
--
.단계
. DIMM 근처에서 RTC 배터리를 찾습니다.
+
image::../media/drw_a800_rtc_battery_replace_v2.png[RTC 배터리를 탈거한 후 교체합니다]

+
[cols="1,4"]
|===


 a| 
image:../media/icon_round_1.png["설명선 번호 1"]
 a| 
에어 덕트



 a| 
image:../media/icon_round_2.png["설명선 번호 2"]
 a| 
RTC 배터리 및 하우징

|===
. 배터리를 홀더에서 조심스럽게 밀어내고 홀더에서 돌린 다음 홀더에서 들어 꺼냅니다.
+

NOTE: 배터리함을 홀더에서 분리할 때 배터리의 극성에 유의하십시오. 배터리에는 플러스 기호가 표시되어 있으며 홀더에 올바르게 위치해야 합니다. 홀더 근처에 있는 더하기 기호는 배터리를 어떻게 배치해야 하는지 알려줍니다.

. 정전기 방지 운송용 백에서 교체용 배터리를 제거합니다.
. RTC 배터리의 극성을 확인한 다음 배터리를 비스듬히 기울이고 아래로 눌러 홀더에 삽입합니다.
. 배터리를 육안으로 검사하여 홀더가 완전히 장착되어 있고 극성이 올바른지 확인하십시오.


--
====


== 4단계: 컨트롤러 모듈을 재설치합니다

컨트롤러 모듈을 다시 설치하고 재부팅합니다.

.단계
. 컨트롤러 모듈의 끝을 섀시의 입구에 맞춘 다음 컨트롤러 모듈을 반쯤 조심스럽게 시스템에 밀어 넣습니다.
+

NOTE: 지시가 있을 때까지 컨트롤러 모듈을 섀시에 완전히 삽입하지 마십시오.

. 필요에 따라 시스템을 다시 연결합니다.
+
미디어 컨버터(QSFP 또는 SFP)를 분리한 경우 광섬유 케이블을 사용하는 경우 다시 설치해야 합니다.

. 컨트롤러 모듈 재설치를 완료합니다.
+
.. 컨트롤러 모듈이 중앙판과 만나 완전히 장착될 때까지 섀시 안으로 단단히 밀어 넣습니다.
+
컨트롤러 모듈이 완전히 장착되면 잠금 래치가 상승합니다.

+

NOTE: 커넥터가 손상되지 않도록 컨트롤러 모듈을 섀시에 밀어 넣을 때 과도한 힘을 가하지 마십시오.

.. 잠금 래치를 위쪽으로 돌려 잠금 핀이 분리될 때까지 기울인 다음 잠금 위치로 내립니다.
.. 전원 코드를 전원 공급 장치에 연결하고 전원 케이블 잠금 칼러를 다시 설치한 다음 전원 공급 장치를 전원에 연결합니다.
+
전원이 복구되는 즉시 컨트롤러 모듈이 부팅되기 시작합니다. 부트 프로세스를 중단할 준비를 하십시오.

.. 아직 설치하지 않은 경우 케이블 관리 장치를 다시 설치하십시오.


. 손상된 컨트롤러를 다시 설치하여 정상 작동으로 되돌립니다.
+
`storage failover giveback -ofnode _impaired_node_name_`..

. 자동 반환이 비활성화된 경우 다시 활성화하십시오.
+
`storage failover modify -node local -auto-giveback true`..

. AutoSupport가 활성화된 경우 자동 케이스 생성을 복원/억제 해제:
+
`system node autosupport invoke -node * -type all -message MAINT=END`..





== 5단계: 장애가 발생한 부품을 NetApp에 반환

키트와 함께 제공된 RMA 지침에 설명된 대로 오류가 발생한 부품을 NetApp에 반환합니다.  https://mysupport.netapp.com/site/info/rma["부품 반환 및 교체"]자세한 내용은 페이지를 참조하십시오.
